Index: app/src/main/java/com/example/analyzemate/Views/BuyPaperActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.analyzemate.Views;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\n\r\nimport com.example.analyzemate.R;\r\n\r\npublic class BuyPaperActivity extends AppCompatActivity {\r\n    TextView exitBt;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_buy_paper);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        exitBt = findViewById(R.id.exit);\r\n        exitBt.setOnClickListener(view -> {\r\n            finish();\r\n        });\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/analyzemate/Views/BuyPaperActivity.java b/app/src/main/java/com/example/analyzemate/Views/BuyPaperActivity.java
--- a/app/src/main/java/com/example/analyzemate/Views/BuyPaperActivity.java	(revision 97555fbd0bef7ef118b6edda42b33fca3a36713f)
+++ b/app/src/main/java/com/example/analyzemate/Views/BuyPaperActivity.java	(date 1714646015844)
@@ -1,9 +1,12 @@
 package com.example.analyzemate.Views;
 
 import android.os.Bundle;
+import android.view.ContextThemeWrapper;
+import android.widget.Button;
 import android.widget.TextView;
 
 import androidx.activity.EdgeToEdge;
+import androidx.appcompat.app.AlertDialog;
 import androidx.appcompat.app.AppCompatActivity;
 import androidx.core.graphics.Insets;
 import androidx.core.view.ViewCompat;
@@ -13,6 +16,7 @@
 
 public class BuyPaperActivity extends AppCompatActivity {
     TextView exitBt;
+    Button buyBt;
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -28,5 +32,22 @@
         exitBt.setOnClickListener(view -> {
             finish();
         });
+
+        buyBt = findViewById(R.id.buy_bt);
+        buyBt.setOnClickListener(view -> {
+            CreateDialogView();
+        });
+    }
+
+    private void CreateDialogView() {
+        AlertDialog.Builder builder = new AlertDialog.Builder(new ContextThemeWrapper(this, R.style.CenterTheme));
+        builder.setTitle("Купить ценную бумагу?");
+
+        builder.setPositiveButton("Принять", (dialogInterface, i) -> {
+            // AAAAAAAAAAAAAAAAAAAAAAAAAAA
+            dialogInterface.cancel();
+        });
+        builder.setNegativeButton("Отмена", (dialogInterface, i) -> dialogInterface.cancel());
+        builder.show();
     }
 }
\ No newline at end of file
Index: app/src/main/res/layout/activity_buy_paper.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"vertical\"\r\n    tools:context=\".Views.BuyPaperActivity\"\r\n    android:background=\"@color/blue\">\r\n\r\n    <TextView\r\n        android:id=\"@+id/exit\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"@string/buy_lay\"\r\n        android:textSize=\"25sp\"\r\n        android:textColor=\"@color/white\"\r\n        android:textStyle=\"bold\"\r\n        app:drawableStartCompat=\"@drawable/baseline_arrow_back_24\"\r\n        app:drawableTint=\"@color/white\"\r\n        android:drawablePadding=\"20dp\"\r\n        android:layout_marginTop=\"25dp\"\r\n        android:layout_marginEnd=\"20dp\"\r\n        android:layout_marginStart=\"20dp\"\r\n        android:layout_marginBottom=\"15dp\"/>\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\"\r\n        android:background=\"@drawable/layout_buy_sell\">\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_marginEnd=\"20dp\"\r\n            app:cardCornerRadius=\"10dp\"\r\n            app:contentPadding=\"5dp\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:orientation=\"horizontal\"\r\n                android:weightSum=\"100\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/paperImageView\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:src=\"@drawable/baseline_account_balance_24\"\r\n                    android:background=\"@android:color/transparent\"\r\n                    android:layout_marginStart=\"15dp\"\r\n                    android:layout_marginEnd=\"15dp\"\r\n                    android:layout_weight=\"15\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/paperNameView\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:text=\"@string/paper\"\r\n                    android:textSize=\"20sp\"\r\n                    android:gravity=\"center\"\r\n                    android:layout_weight=\"58\"/>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"vertical\"\r\n                    android:layout_weight=\"25\"\r\n                    android:layout_marginStart=\"5dp\">\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/paperCost\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"30dp\"\r\n                        android:text=\"@string/sample\"\r\n                        android:textSize=\"16sp\"\r\n                        android:textAlignment=\"textStart\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/paperChange\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"30dp\"\r\n                        android:text=\"5%\"\r\n                        android:textColor=\"@android:color/holo_green_dark\"\r\n                        android:textSize=\"20sp\"\r\n                        android:gravity=\"start\"\r\n                        android:layout_marginEnd=\"10dp\"\r\n                        android:drawablePadding=\"15dp\"\r\n                        app:drawableStartCompat=\"@drawable/trending_up\" />\r\n                </LinearLayout>\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <EditText\r\n            android:id=\"@+id/buy_cost\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginEnd=\"20dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_marginBottom=\"15dp\"\r\n            android:layout_marginTop=\"30dp\"\r\n            android:backgroundTint=\"@color/grey\"\r\n            android:importantForAutofill=\"no\"\r\n            android:inputType=\"numberDecimal\"\r\n            android:hint=\"@string/buy_cost\"/>\r\n\r\n        <EditText\r\n            android:id=\"@+id/buy_count\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginEnd=\"20dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_marginBottom=\"15dp\"\r\n            android:backgroundTint=\"@color/grey\"\r\n            android:importantForAutofill=\"no\"\r\n            android:inputType=\"number\"\r\n            android:hint=\"@string/buy_count\"/>\r\n\r\n        <Spinner\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"10dp\"\r\n            android:layout_marginEnd=\"20dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_marginBottom=\"15dp\"\r\n            tools:listitem=\"@layout/briefcase_item\"/>\r\n\r\n        <Button\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"15dp\"\r\n            android:layout_marginEnd=\"20dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_marginBottom=\"15dp\"\r\n            android:backgroundTint=\"@color/blue\"\r\n            android:text=\"@string/buying_text\"\r\n            android:textSize=\"20sp\" />\r\n    </LinearLayout>\r\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_buy_paper.xml b/app/src/main/res/layout/activity_buy_paper.xml
--- a/app/src/main/res/layout/activity_buy_paper.xml	(revision 97555fbd0bef7ef118b6edda42b33fca3a36713f)
+++ b/app/src/main/res/layout/activity_buy_paper.xml	(date 1714642553084)
@@ -122,15 +122,16 @@
             android:hint="@string/buy_count"/>
 
         <Spinner
+            android:id="@+id/spinner_briefcase"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
-            android:layout_marginTop="10dp"
             android:layout_marginEnd="20dp"
             android:layout_marginStart="20dp"
             android:layout_marginBottom="15dp"
             tools:listitem="@layout/briefcase_item"/>
 
         <Button
+            android:id="@+id/buy_bt"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_marginTop="15dp"
Index: app/src/main/java/com/example/analyzemate/Views/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.analyzemate.Views;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.text.InputType;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.analyzemate.Controllers.Adapters.RecyclerViewAdapter;\r\nimport com.example.analyzemate.Controllers.Interfaces.OnBalanceUpdateListener;\r\nimport com.example.analyzemate.Controllers.Interfaces.StockPaperHandler;\r\nimport com.example.analyzemate.Controllers.Interfaces.UserInfoHandler;\r\nimport com.example.analyzemate.Models.EnumTimeframe;\r\nimport com.example.analyzemate.Models.ExistingUser;\r\nimport com.example.analyzemate.Models.State;\r\nimport com.example.analyzemate.R;\r\nimport com.example.analyzemate.Views.Autorization.LoginActivity;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\n\r\nimport org.json.JSONException;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Objects;\r\n\r\npublic class MainActivity extends AppCompatActivity implements OnBalanceUpdateListener {\r\n    ArrayList<State> states = new ArrayList<State>();\r\n    Integer curr_briefcase = 1;\r\n    private static final int MAX_BRIEFCASE = 3;\r\n    public static final String APP_PREFERENCES = \"user\";\r\n    TextView textView_balance;\r\n    @Override\r\n    public void onBalanceUpdated(float balance) {\r\n        // Обновляем UI с полученным балансом\r\n        textView_balance.setText(String.valueOf(balance));\r\n    }\r\n\r\n    @Override\r\n    public void existingUserReceived(ExistingUser existingUser) {\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        textView_balance = findViewById(R.id.textView_balance);\r\n        textView_balance.setOnClickListener(view -> CreateDialogView());\r\n\r\n        // Устанавливаем себя в качестве слушателя обновления баланса\r\n        UserInfoHandler.setBalanceUpdateListener(this);\r\n        // Получаем баланс с сервера\r\n        UserInfoHandler.getBalanceFromServer(MainActivity.this);\r\n\r\n        Bundle extras = getIntent().getExtras();\r\n        SharedPreferences preferences = getSharedPreferences(APP_PREFERENCES, Context.MODE_PRIVATE);\r\n\r\n        // Проверка токена авторизации\r\n        CheckAuthorizationToken(preferences);\r\n\r\n        if (extras != null) { // Если Активити передало параметры\r\n            RememberUser(extras, preferences);\r\n        }\r\n\r\n        // Проверка авторизации пользователя\r\n        CheckAuthorizationToken(preferences);\r\n\r\n        /*\r\n        * Настройка навигационной панели\r\n        * Задание начального экрана, добавление путей перехода\r\n        */\r\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigationView);\r\n        bottomNavigationView.setSelectedItemId(R.id.bottom_home);\r\n        bottomNavigationView.setOnItemSelectedListener(item -> {\r\n            int item_id = item.getItemId();\r\n            if (item_id == R.id.bottom_home){\r\n                return true;\r\n            } else if (item_id == R.id.bottom_search){\r\n                startActivity(new Intent(getApplicationContext(), SearchActivity.class));\r\n                overridePendingTransition(R.anim.slide_right, R.anim.slide_left);\r\n                finish();\r\n                return true;\r\n            } else if (item_id == R.id.bottom_stock){\r\n                startActivity(new Intent(getApplicationContext(), StockActivity.class));\r\n                overridePendingTransition(R.anim.slide_right, R.anim.slide_left);\r\n                finish();\r\n                return true;\r\n            } else if (item_id == R.id.bottom_notification){\r\n                startActivity(new Intent(getApplicationContext(), NotificationActivity.class));\r\n                overridePendingTransition(R.anim.slide_right, R.anim.slide_left);\r\n                finish();\r\n                return true;\r\n            } else if (item_id == R.id.bottom_account){\r\n                startActivity(new Intent(getApplicationContext(), AccountActivity.class));\r\n                overridePendingTransition(R.anim.slide_right, R.anim.slide_left);\r\n                finish();\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n\r\n        /*\r\n         * Настройка списка, задание адаптера\r\n         */\r\n        setInitialData();\r\n        RecyclerView recyclerView = findViewById(R.id.recyclerViewHome);\r\n        RecyclerViewAdapter adapter = new RecyclerViewAdapter(this, states);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        // TODO Доделать добавление портфеля\r\n        /*\r\n        ImageView bt_add = findViewById(R.id.bt_add);\r\n        LinearLayout layout = findViewById(R.id.layout);\r\n        bt_add.setOnClickListener(view -> {\r\n            curr_briefcase++;\r\n            if (MAX_BRIEFCASE <= curr_briefcase) {\r\n                bt_add.setVisibility(View.GONE);\r\n            }\r\n            LinearLayout briefcaseLayout = new LinearLayout(view.getContext());\r\n            briefcaseLayout.setOrientation(LinearLayout.HORIZONTAL);\r\n            LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\r\n                    LinearLayout.LayoutParams.MATCH_PARENT,\r\n                    LinearLayout.LayoutParams.WRAP_CONTENT);\r\n            layoutParams.setMargins(\r\n                    UiAdapter.dpToPx(view.getContext(), 20),\r\n                    UiAdapter.dpToPx(view.getContext(), 10),\r\n                    UiAdapter.dpToPx(view.getContext(), 20),\r\n                    UiAdapter.dpToPx(view.getContext(), 10));\r\n            briefcaseLayout.setLayoutParams(layoutParams);\r\n            TransitionManager.beginDelayedTransition(briefcaseLayout, new AutoTransition());\r\n\r\n            TextView briefcaseTextView = new TextView(view.getContext());\r\n            briefcaseTextView.setLayoutParams(new LinearLayout.LayoutParams(\r\n                    LinearLayout.LayoutParams.MATCH_PARENT,\r\n                    LinearLayout.LayoutParams.WRAP_CONTENT, 1));\r\n            briefcaseTextView.setText(R.string.briefcase);\r\n            briefcaseTextView.setTextSize(22);\r\n            briefcaseTextView.setTextColor(Color.BLACK);\r\n            briefcaseLayout.addView(briefcaseTextView);\r\n\r\n            Button historyButton = new Button(view.getContext());\r\n            layoutParams = new LinearLayout.LayoutParams(\r\n                    LinearLayout.LayoutParams.MATCH_PARENT,\r\n                    LinearLayout.LayoutParams.WRAP_CONTENT, 1);\r\n            historyButton.setLayoutParams(layoutParams);\r\n            historyButton.setText(R.string.history);\r\n            historyButton.setTextSize(15);\r\n            historyButton.setBackgroundColor(Color.TRANSPARENT);\r\n            historyButton.setTextColor(Color.BLACK);\r\n            historyButton.setCompoundDrawablesRelativeWithIntrinsicBounds(0,0, R.drawable.baseline_history_24,0);\r\n            briefcaseLayout.addView(historyButton);\r\n            layout.addView(briefcaseLayout);\r\n        });*/\r\n    }\r\n\r\n    private void CreateDialogView() {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setTitle(\"Введите баланс\");\r\n        final EditText input = new EditText(this);\r\n        input.setInputType(InputType.TYPE_CLASS_NUMBER|InputType.TYPE_NUMBER_FLAG_DECIMAL);\r\n        builder.setView(input);\r\n\r\n        builder.setPositiveButton(\"Принять\", (dialogInterface, i) -> {\r\n            float d = (float) Double.parseDouble(input.getText().toString());\r\n\r\n            textView_balance.setText(String.valueOf(d));\r\n\r\n            try {\r\n                UserInfoHandler.UpdateUserBalance(MainActivity.this, d);\r\n            } catch (JSONException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        });\r\n        builder.setNegativeButton(\"Отмена\", (dialogInterface, i) -> dialogInterface.cancel());\r\n        builder.show();\r\n    }\r\n\r\n    /**\r\n     * Запоминаем пользователя в памяти телефона.\r\n     Сохраняет в памяти телефона флаг remember.\r\n     * @param extras переменные, переданные из другого активити\r\n     * @param preferences переменная с переменными из памяти телефона\r\n     */\r\n    private void RememberUser(Bundle extras, SharedPreferences preferences) {\r\n        String value = extras.getString(\"key\"); // Полученный параметр\r\n        // Если перенапревлены из LoginActivity\r\n        if (Objects.equals(value, \"authorization\")) {\r\n            SharedPreferences.Editor editor = preferences.edit();\r\n            editor.putString(\"token\", \"true\");\r\n            editor.apply();\r\n            // TODO Заглушка. Заменить на временное хранение\r\n            Toast.makeText(MainActivity.this, \"Remember\", Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Проверка авторизации пользователя\r\n     * Запускает LoginActivity, если пользователь не авторизован\r\n     * @param preferences переменная с переменными из памяти телефона\r\n     */\r\n    private void CheckAuthorizationToken(SharedPreferences preferences) {\r\n        if (preferences.contains(\"token\")) {\r\n            //  затычка, удаляет пользователя из памяти телефона\r\n//            SharedPreferences.Editor editor = preferences.edit();\r\n//             editor.clear();\r\n//             editor.apply();\r\n//             Toast.makeText(MainActivity.this, \"check\", Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            startActivity(new Intent(getApplicationContext(), LoginActivity.class));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Загглушка. Создает список бумаг и иконок\r\n     */\r\n    private void setInitialData() {\r\n        states.add(new State(\"test1\",\"Gasprompt\", R.drawable.baseline_gas_meter_24, \"112.1\", \"8\"));\r\n        states.add(new State(\"test2\",\"RosCosmostars\", R.drawable.baseline_home_24, \"5.2\", \"131\"));\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/analyzemate/Views/MainActivity.java b/app/src/main/java/com/example/analyzemate/Views/MainActivity.java
--- a/app/src/main/java/com/example/analyzemate/Views/MainActivity.java	(revision 97555fbd0bef7ef118b6edda42b33fca3a36713f)
+++ b/app/src/main/java/com/example/analyzemate/Views/MainActivity.java	(date 1714645605163)
@@ -16,9 +16,7 @@
 
 import com.example.analyzemate.Controllers.Adapters.RecyclerViewAdapter;
 import com.example.analyzemate.Controllers.Interfaces.OnBalanceUpdateListener;
-import com.example.analyzemate.Controllers.Interfaces.StockPaperHandler;
 import com.example.analyzemate.Controllers.Interfaces.UserInfoHandler;
-import com.example.analyzemate.Models.EnumTimeframe;
 import com.example.analyzemate.Models.ExistingUser;
 import com.example.analyzemate.Models.State;
 import com.example.analyzemate.R;
@@ -65,14 +63,14 @@
         SharedPreferences preferences = getSharedPreferences(APP_PREFERENCES, Context.MODE_PRIVATE);
 
         // Проверка токена авторизации
-        CheckAuthorizationToken(preferences);
+        // CheckAuthorizationToken(preferences);
 
         if (extras != null) { // Если Активити передало параметры
             RememberUser(extras, preferences);
         }
 
         // Проверка авторизации пользователя
-        CheckAuthorizationToken(preferences);
+        // CheckAuthorizationToken(preferences);
 
         /*
         * Настройка навигационной панели
Index: app/src/main/java/com/example/analyzemate/Views/Autorization/LoginActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.analyzemate.Views.Autorization;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.SpannableString;\r\nimport android.text.Spanned;\r\nimport android.text.method.LinkMovementMethod;\r\nimport android.text.style.ClickableSpan;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\n\r\nimport com.example.analyzemate.Controllers.Interfaces.AutorizationHandler;\r\nimport com.example.analyzemate.Models.User;\r\nimport com.example.analyzemate.R;\r\nimport com.example.analyzemate.Views.MainActivity;\r\n\r\nimport java.util.Date;\r\n\r\npublic class LoginActivity extends AppCompatActivity {\r\n    Button bEnter;\r\n    EditText etEmail, etPassword;\r\n    TextView tvRegister;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_login);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        // Получение полей формы\r\n        etEmail = findViewById(R.id.edit_email);\r\n        etPassword = findViewById(R.id.edit_password);\r\n        tvRegister = findViewById(R.id.str_register);\r\n        bEnter = findViewById(R.id.bt_register);\r\n\r\n        // Создание текста с ссылкой на регистрацию\r\n        ClickableSpan clickableSpan = new ClickableSpan() {\r\n            @Override\r\n            public void onClick(@NonNull View view) {\r\n                startActivity(new Intent(getApplicationContext(), RegisterActivity.class));\r\n            }\r\n        };\r\n        SpannableString register = new SpannableString(\"Зарегистрироваться\");\r\n        register.setSpan(clickableSpan, 0, 18, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n\r\n        // Задание текста\r\n        tvRegister.setText(register);\r\n        tvRegister.setMovementMethod(LinkMovementMethod.getInstance());\r\n\r\n        // Обработка кнопки Войти\r\n        bEnter.setOnClickListener(this::goToMainActivity);\r\n    }\r\n\r\n    /**\r\n     * Метод, вызываемый при нажатии кнопки Войти\r\n     * Создается User, вызывается запрос к серверу на авторизацию.\r\n     * @param view\r\n     */\r\n    private void goToMainActivity(View view) {\r\n        User user = GetUserFromEditData();\r\n//        // Todo убрать после работы серва\r\n//        Intent intent = new Intent(view.getContext(), MainActivity.class);\r\n//        view.getContext().startActivity(intent);\r\n        if (ValidateFields()) {\r\n            AutorizationHandler.AuthenticationUser(user, this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Получение и создание User из введенных данных\r\n     * @return User\r\n     */\r\n    private User GetUserFromEditData() {\r\n        String email = etEmail.getText().toString();\r\n        String password = etPassword.getText().toString();\r\n\r\n        // Создание пользователя\r\n        User user = new User(email, \"\", \"\", \"\", new Date(), password);\r\n        return  user;\r\n    }\r\n\r\n    /**\r\n     * Метод валидации полей входа.\r\n     * Метод проверяет пустоту полей.\r\n     * @return true, если валидация пройдена, в ином случае false\r\n     */\r\n    private boolean ValidateFields() {\r\n        String email =  etEmail.getText().toString();\r\n        String password = etPassword.getText().toString();\r\n        boolean isEmpty = false;\r\n\r\n        if (email.isEmpty()) {\r\n            etEmail.setError(\"Поле должно быть заполнено\");\r\n            isEmpty = true;\r\n        }\r\n\r\n        if (password.isEmpty()) {\r\n            etPassword.setError(\"Поле должно быть заполнено\");\r\n            isEmpty = true;\r\n        }\r\n\r\n        return !isEmpty;\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/analyzemate/Views/Autorization/LoginActivity.java b/app/src/main/java/com/example/analyzemate/Views/Autorization/LoginActivity.java
--- a/app/src/main/java/com/example/analyzemate/Views/Autorization/LoginActivity.java	(revision 97555fbd0bef7ef118b6edda42b33fca3a36713f)
+++ b/app/src/main/java/com/example/analyzemate/Views/Autorization/LoginActivity.java	(date 1715429781751)
@@ -21,7 +21,6 @@
 import com.example.analyzemate.Controllers.Interfaces.AutorizationHandler;
 import com.example.analyzemate.Models.User;
 import com.example.analyzemate.R;
-import com.example.analyzemate.Views.MainActivity;
 
 import java.util.Date;
 
@@ -72,7 +71,6 @@
      */
     private void goToMainActivity(View view) {
         User user = GetUserFromEditData();
-//        // Todo убрать после работы серва
 //        Intent intent = new Intent(view.getContext(), MainActivity.class);
 //        view.getContext().startActivity(intent);
         if (ValidateFields()) {
Index: app/src/main/java/com/example/analyzemate/Views/PaperActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.analyzemate.Views;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.widget.Button;\r\nimport android.widget.ImageButton;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentActivity;\r\nimport androidx.viewpager2.adapter.FragmentStateAdapter;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\nimport com.example.analyzemate.R;\r\nimport com.example.analyzemate.Views.PaperFragments.GraphFragment;\r\nimport com.example.analyzemate.Views.PaperFragments.OverviewFragment;\r\nimport com.example.analyzemate.Views.PaperFragments.TrackingFragment;\r\nimport com.google.android.material.tabs.TabLayout;\r\nimport com.google.android.material.tabs.TabLayoutMediator;\r\n\r\npublic class PaperActivity extends AppCompatActivity {\r\n    private static final int NUM_PAGES = 3;\r\n    ImageButton btExit;\r\n    Button btBuy, btSell;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_paper);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        // Получение номера ценной бумаги\r\n        Bundle extras = getIntent().getExtras();\r\n        assert extras != null;\r\n        Toast.makeText(PaperActivity.this, extras.getString(\"uid\"), Toast.LENGTH_SHORT).show();\r\n\r\n        // Определение кнопок\r\n        btExit = findViewById(R.id.exit_button);\r\n        btBuy = findViewById(R.id.bt_buy);\r\n        btSell = findViewById(R.id.bt_sell);\r\n\r\n        // Установка listener на кнопку выхода\r\n        btExit.setOnClickListener(view -> finish());\r\n\r\n        // Переход на экран покупки\r\n        btBuy.setOnClickListener(view -> {\r\n            startActivity(new Intent(getApplicationContext(), BuyPaperActivity.class));\r\n            overridePendingTransition(R.anim.slide_right, R.anim.slide_left);\r\n            finish();\r\n        });\r\n\r\n        // Переход на экран продажи\r\n        btSell.setOnClickListener(view -> {\r\n            startActivity(new Intent(getApplicationContext(), SellPaperActivity.class));\r\n            overridePendingTransition(R.anim.slide_right, R.anim.slide_left);\r\n            finish();\r\n        });\r\n\r\n        // Установление адаптера pagerAdapter для ViewPager2\r\n        ViewPager2 viewPager2 = findViewById(R.id.viewPager);\r\n        FragmentStateAdapter pagerAdapter = new ScreenSlidePagerAdapter(this);\r\n        viewPager2.setAdapter(pagerAdapter);\r\n        viewPager2.setUserInputEnabled(false);\r\n\r\n        // Связывание TabLayout и ViewPager2 для синхронизации переходов\r\n        TabLayout tabLayout = findViewById(R.id.tabLayout);\r\n        new TabLayoutMediator(tabLayout, viewPager2,\r\n                (tab, i) -> {\r\n                    if (i == 0)\r\n                        tab.setText(\"Обзор\");\r\n                    else if (i == 1)\r\n                        tab.setText(\"График\");\r\n                    else if (i == 2)\r\n                        tab.setText(\"Отслеживание\");\r\n                }).attach();\r\n    }\r\n\r\n    /**\r\n     * Адаптер горизонтальной прокрутки\r\n     */\r\n    private static class ScreenSlidePagerAdapter extends FragmentStateAdapter {\r\n        Bundle bundle = new Bundle();\r\n        Fragment frag;\r\n        public ScreenSlidePagerAdapter(FragmentActivity fragAct) {\r\n            super(fragAct);\r\n        }\r\n        @NonNull\r\n        @Override\r\n        public Fragment createFragment(int position) {\r\n            if (position == 0) {\r\n                bundle.putString(\"description\", \"хихихихи хахахаха\");\r\n                frag = new OverviewFragment();\r\n                frag.setArguments(bundle);\r\n                return frag;\r\n            }\r\n            else if (position == 1)\r\n                return new GraphFragment();\r\n            else\r\n                return new TrackingFragment();\r\n        }\r\n        @Override\r\n        public int getItemCount() {\r\n            return NUM_PAGES;\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/analyzemate/Views/PaperActivity.java b/app/src/main/java/com/example/analyzemate/Views/PaperActivity.java
--- a/app/src/main/java/com/example/analyzemate/Views/PaperActivity.java	(revision 97555fbd0bef7ef118b6edda42b33fca3a36713f)
+++ b/app/src/main/java/com/example/analyzemate/Views/PaperActivity.java	(date 1714646090595)
@@ -59,7 +59,7 @@
             finish();
         });
 
-        // Переход на экран продажи
+        // Переход на экран продажи1
         btSell.setOnClickListener(view -> {
             startActivity(new Intent(getApplicationContext(), SellPaperActivity.class));
             overridePendingTransition(R.anim.slide_right, R.anim.slide_left);
Index: app/src/main/res/layout/activity_sell_paper.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"vertical\"\r\n    android:background=\"@color/blue\"\r\n    tools:context=\".Views.SellPaperActivity\">\r\n\r\n    <TextView\r\n        android:id=\"@+id/exit\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"@string/sell_page\"\r\n        android:textSize=\"25sp\"\r\n        android:textColor=\"@color/white\"\r\n        android:textStyle=\"bold\"\r\n        app:drawableStartCompat=\"@drawable/baseline_arrow_back_24\"\r\n        app:drawableTint=\"@color/white\"\r\n        android:drawablePadding=\"20dp\"\r\n        android:layout_marginTop=\"25dp\"\r\n        android:layout_marginEnd=\"20dp\"\r\n        android:layout_marginStart=\"20dp\"\r\n        android:layout_marginBottom=\"15dp\"/>\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\"\r\n        android:background=\"@drawable/layout_buy_sell\">\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_marginEnd=\"20dp\"\r\n            app:cardCornerRadius=\"10dp\"\r\n            app:contentPadding=\"5dp\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:orientation=\"horizontal\"\r\n                android:weightSum=\"100\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/paperImageView\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:src=\"@drawable/baseline_account_balance_24\"\r\n                    android:background=\"@android:color/transparent\"\r\n                    android:layout_marginStart=\"15dp\"\r\n                    android:layout_marginEnd=\"15dp\"\r\n                    android:layout_weight=\"15\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/paperNameView\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:text=\"@string/paper\"\r\n                    android:textSize=\"20sp\"\r\n                    android:gravity=\"center\"\r\n                    android:layout_weight=\"58\"/>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"vertical\"\r\n                    android:layout_weight=\"25\"\r\n                    android:layout_marginStart=\"5dp\">\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/paperCost\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"30dp\"\r\n                        android:text=\"@string/sample\"\r\n                        android:textSize=\"16sp\"\r\n                        android:textAlignment=\"textStart\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/paperChange\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"30dp\"\r\n                        android:text=\"5%\"\r\n                        android:textColor=\"@android:color/holo_green_dark\"\r\n                        android:textSize=\"20sp\"\r\n                        android:gravity=\"start\"\r\n                        android:layout_marginEnd=\"10dp\"\r\n                        android:drawablePadding=\"15dp\"\r\n                        app:drawableStartCompat=\"@drawable/trending_up\" />\r\n                </LinearLayout>\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <EditText\r\n            android:id=\"@+id/buy_count\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"30dp\"\r\n            android:layout_marginEnd=\"20dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_marginBottom=\"15dp\"\r\n            android:backgroundTint=\"@color/grey\"\r\n            android:importantForAutofill=\"no\"\r\n            android:inputType=\"number\"\r\n            android:hint=\"@string/buy_count\"/>\r\n\r\n        <Spinner\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"10dp\"\r\n            android:layout_marginEnd=\"20dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_marginBottom=\"15dp\"\r\n            tools:listitem=\"@layout/briefcase_item\"/>\r\n\r\n        <Button\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"15dp\"\r\n            android:layout_marginEnd=\"20dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_marginBottom=\"15dp\"\r\n            android:backgroundTint=\"@color/blue\"\r\n            android:text=\"@string/selling_text\"\r\n            android:textSize=\"20sp\" />\r\n    </LinearLayout>\r\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_sell_paper.xml b/app/src/main/res/layout/activity_sell_paper.xml
--- a/app/src/main/res/layout/activity_sell_paper.xml	(revision 97555fbd0bef7ef118b6edda42b33fca3a36713f)
+++ b/app/src/main/res/layout/activity_sell_paper.xml	(date 1714642553068)
@@ -97,7 +97,7 @@
         </androidx.cardview.widget.CardView>
 
         <EditText
-            android:id="@+id/buy_count"
+            android:id="@+id/sell_count"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_marginTop="30dp"
@@ -110,15 +110,16 @@
             android:hint="@string/buy_count"/>
 
         <Spinner
+            android:id="@+id/spinner_briefcase"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
-            android:layout_marginTop="10dp"
             android:layout_marginEnd="20dp"
             android:layout_marginStart="20dp"
             android:layout_marginBottom="15dp"
             tools:listitem="@layout/briefcase_item"/>
 
         <Button
+            android:id="@+id/sell_bt"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_marginTop="15dp"
